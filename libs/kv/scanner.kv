#:import MatplotFigure graph_widget
#:kivy 2.2.1

<Scanner>
    name: 'scanner'
    figure_wgt4:figure_wgt4
    label_OM:label_OM
    label_P:label_P
    label_K:label_K

    MDBoxLayout:
        orientation:'vertical'
        MDLabel:
            text: "Measure NPK"
            size_hint_y: .1
            halign: 'center'

        MatplotFigure:
            id: figure_wgt4

        MDBoxLayout:
            orientation: 'horizontal'
            size_hint_y: 0.2
            padding: "10dp"
            spacing: 5
            halign: 'center'

            MDLabel:
                id: label_OM
                text: "N: - ppm"

            MDLabel:
                id: label_P
                text: "P: - ppm"

            MDLabel:
                id: label_K
                text: "K: - ppm"


        MDBoxLayout:
            size_hint_y: 0.2
            spacing: 5
            padding: '10dp'

            MDRectangleFlatButton:
                size_hint_x: 0.333
                size_hint_y: None
                text:"Home"
                theme_text_color: "Custom"
                text_color: "black"
                line_color: "black"
                md_bg_color: 'grey'
                on_release:
                    root.disable_clock()
                    app.root.current = 'lobby'

            MDRectangleFlatButton:
                id: capture_button
                size_hint_x: 0.333
                size_hint_y: None
                disabled: False
                text:"Capture"
                theme_text_color: "Custom"
                text_color: "black"
                line_color: "black"
                md_bg_color: 'grey'
                on_release:
                    root.disable_clock()
                    root.activate_button()

            MDRectangleFlatButton:
                id: rescan_button
                disabled: True
                size_hint_x: 0.333
                size_hint_y: None
                text:"Rescan"
                theme_text_color: "Custom"
                text_color: "black"
                line_color: "black"
                md_bg_color: 'grey'
                on_release:
                    root.activate_button()
                    root.on_enter()
